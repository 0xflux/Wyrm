{% include "header.html" %}

<div id="file-upload-container" class="container-fluid py-4">
    <div class="row mb-4">
        <div class="col-12 text-center">
            <h2 class="mb-2 fw-bold">Build all payloads</h2>
            <p>Type the name of the profile you wish to build from (do not include the
                <code>.toml</code>). For example, to build from the default profile, type <code>default</code>
            </p>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-md-7 col-lg-6">
            <form id="stage-all-form" method="POST" action="/api/stage_all"
                  class="border rounded-3 p-4 shadow-sm">
                <div class="mb-3">
                    <label for="profile_name" class="form-label fw-semibold">Profile name</label>
                    <input
                        type="text"
                        class="form-control"
                        name="profile_name"
                        id="profile_name"
                        placeholder="Profile name"
                        required
                        >
                    <div class="form-text">The profile name <strong>should not include the toml extension</strong>, and it should be present under <code>c2/profiles/</code>.</div>
                </div>
                <div class="mb-3">
                    <label for="staging_uri" class="form-label fw-semibold">Staging C2 URI Endpoint</label>
                    <input type="text" class="form-control" placeholder="contracts/microsoft/2025/msft_contract_25&auth=..." name="staging_uri" id="staging_uri" required>
                    <div class="form-text">Multi-path and URL params allowed. Example: <code>download</code> or <code>files/secret?auth=token</code></div>
                </div>
                <div class="mb-3">
                    <label for="file_input" class="form-label fw-semibold">Choose File</label>
                    <input class="form-control" type="file" id="file_input" name="file_input" required>
                </div>
                <button type="submit" class="btn btn-primary w-100 py-2 fw-bold">Upload</button>
            </form>
            <div id="upload-status" class="mt-3"></div>
        </div>
    </div>
</div>

{% include "footer.html" %}